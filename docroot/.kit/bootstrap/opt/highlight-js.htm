<lib :k_highlightJsStyle="github">

  <!--- https://highlightjs.org -->
  <link rel="stylesheet" href="/.kit/bootstrap/res/highlight/styles/[[k_highlightJsStyle]].min.css">
  <:include src="../res/highlight/highlight.min.js" as="script"/>

  <:define tag="highlight-js:pre" class="highlight-js"
           :source=""
           :lang="[[null]]"
           :handle-source=[[
             if (window.hljs) {
               const res = lang
                 ? window.hljs.highlight(source, { language: lang })
                 : window.hljs.highlightAuto(source);
               __dom.firstElementChild.innerHTML = res.value;
             } else {
               __dom.firstElementChild.innerHTML = source.replaceAll('<', '&lt;').replaceAll('\n', '<br>');
             }
           ]]><code></code></:define>

</lib>
