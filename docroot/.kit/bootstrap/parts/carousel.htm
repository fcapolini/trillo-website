<lib>
  <:import src="../base.htm"/>

	<!--- https://getbootstrap.com/docs/5.2/components/carousel/ -->
	<!--- TODO: controls icon color -->
	<:define tag="bs-carousel" class="carousel slide"
		:selection=[[0]]
		:controls=[[true]]
		:autoPlay=[[false]]

		:carouselId=[[__id]]
		id="carousel-[[carouselId]]"
		data-bs-ride="[[autoPlay ? 'carousel' : false]]"
		:on-slid.bs.carousel=[[(ev) => {
			selection = ev.to;
		}]]
	>
		<div class="carousel-inner">
			<:slot name="default"/>
		</div>
		<button hidden=[[!controls ? '' : null]]
						class="carousel-control-prev"
						type="button"
						data-bs-slide="prev"
						data-bs-target="#carousel-[[carouselId]]">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button hidden=[[!controls ? '' : null]]
						class="carousel-control-next"
						type="button"
						data-bs-slide="next"
						data-bs-target="#carousel-[[carouselId]]">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</:define>

	<:define tag="bs-carousel-item" class="carousel-item"
		:itemIndex="[[__elementIndex()]]"
		:handle-data=[[itemIndex = __elementIndex()]]
		:class-active=[[selection === itemIndex]]
	/>

</lib>
